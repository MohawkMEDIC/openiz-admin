@model IEnumerable<OpenIZAdmin.Models.PlaceModels.ViewModels.PlaceViewModel>
@{
    ViewBag.Title = "Places";
}

<div class="content col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main row">
    <div class="panel panel-default">
        <div class="panel-heading">
            <h3 class="panel-title">
                <a data-toggle="collapse" href="#searchResultsCollapse">Places</a>
            </h3>
        </div>
        <div id="searchResultsCollapse" class="panel-collapse collapse in">
            <div class="fixed-panel">
                <table class="table table-striped table-bordered">
                    <thead>
                        <tr>
                            <th>@Html.DisplayNameFor(m => m.Name)</th>
                            <th>@Html.DisplayNameFor(m => m.Latitude)</th>
                            <th>@Html.DisplayNameFor(m => m.Longitude)</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var item in Model)
                        {
                            <tr>
                                <td>@item.Name</td>
                                <td>@item.Latitude</td>
                                <td>@item.Longitude</td>
                                <td>
                                    <span class="btn-group">
                                        @if (item.VersionKey.HasValue && item.VersionKey.Value != Guid.Empty)
                                        {
                                            <a class="btn btn-primary" href="/Place/ViewPlace?key=@item.Key&versionKey=@item.VersionKey.GetValueOrDefault()">
                                                View
                                                <span class="glyphicon glyphicon-eye-open"></span>
                                            </a>
}
                                        else
                                        {
                                            <a class="btn btn-primary" href="/Place/ViewPlace?key=@item.Key">
                                                View
                                                <span class="glyphicon glyphicon-eye-open"></span>
                                            </a>
}
                                    </span>
                                </td>
                            </tr>}

                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>